<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-onboarding_new_gcp_users" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">onboarding_new_gcp_users | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://giankarlosve.github.io/gcp_onboarding_docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://giankarlosve.github.io/gcp_onboarding_docusaurus/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://giankarlosve.github.io/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="onboarding_new_gcp_users | My Site"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/gcp_onboarding_docusaurus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://giankarlosve.github.io/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users"><link data-rh="true" rel="alternate" href="https://giankarlosve.github.io/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users" hreflang="en"><link data-rh="true" rel="alternate" href="https://giankarlosve.github.io/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"onboarding_new_gcp_users","item":"https://giankarlosve.github.io/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users"}]}</script><link rel="stylesheet" href="/gcp_onboarding_docusaurus/assets/css/styles.5caa677a.css">
<script src="/gcp_onboarding_docusaurus/assets/js/runtime~main.ca41ff29.js" defer="defer"></script>
<script src="/gcp_onboarding_docusaurus/assets/js/main.95241d69.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/gcp_onboarding_docusaurus/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/gcp_onboarding_docusaurus/"><div class="navbar__logo"><img src="/gcp_onboarding_docusaurus/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/gcp_onboarding_docusaurus/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users">Tutorial</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/gcp_onboarding_docusaurus/docs/onboarding_new_gcp_users">onboarding_new_gcp_users</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/gcp_onboarding_docusaurus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">onboarding_new_gcp_users</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>onboarding_new_gcp_users</h1></header><hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-gcp-onboardingtitle-gcp-onboardingsidebar_label-gcp-onboardingsidebar_position-1">id: gcp-onboarding
title: GCP Onboarding
sidebar_label: GCP Onboarding
sidebar_position: 1<a href="#id-gcp-onboardingtitle-gcp-onboardingsidebar_label-gcp-onboardingsidebar_position-1" class="hash-link" aria-label="Direct link to id: gcp-onboarding
title: GCP Onboarding
sidebar_label: GCP Onboarding
sidebar_position: 1" title="Direct link to id: gcp-onboarding
title: GCP Onboarding
sidebar_label: GCP Onboarding
sidebar_position: 1">​</a></h2>
<h1>Onboarding New GCP Users — Model Developers</h1>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>GCP is our bank&#x27;s Global Risk Management toolkit, designed to speed up Python development. This includes the simplification of querying any database that business supports across the banking division and investment division. Throughout this document, <strong>development</strong> and <strong>developers</strong> refer to the team that has designed and maintains this product, and makes it available to other &quot;customer&quot; departments. <strong>Model developers</strong> are the Python programmers or developers that will be using this documentation to get started and to create customized risk analysis solutions for their teams.</p>
<p>This document explains how a workflow is created, defines the most important classes and nodes, and provides exercises that will help you set up your environment. Each exercise builds on the previous one — and each iteration expands the complexity of your challenges.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up">Setting Up<a href="#setting-up" class="hash-link" aria-label="Direct link to Setting Up" title="Direct link to Setting Up">​</a></h2>
<p>The following instructions concisely summarize how to set up your environment.</p>
<p>If you are new to our bank, you may find these instructions too brief. Consult your department&#x27;s Confluence and Wiki documentation for business process constraints or procedures that are unique to your department. This section covers:</p>
<ol>
<li><a href="#getting-the-right-software">Getting the right software</a></li>
<li><a href="#installing-python-and-git">Installing Python and Git</a></li>
<li><a href="#getting-the-right-permissions">Getting the right permissions</a></li>
<li><a href="#setting-up-a-development-environment-on-your-pc-artifactory">Setting up a development environment on your PC</a></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-right-software">Getting the Right Software<a href="#getting-the-right-software" class="hash-link" aria-label="Direct link to Getting the Right Software" title="Direct link to Getting the Right Software">​</a></h3>
<p>Installing <strong>Python</strong>, <strong>PyCharm</strong>, and <strong>Git</strong> (includes <strong>Git Bash</strong>) is a straightforward process. <strong>Visit the myTechnology website and request each of these tools.</strong> After about half a day, you will receive an automated email notifying you that the PAM system has delivered these applications to your desktop. Launch them to confirm they have been installed properly. If you have any issues running them, submit an L1 ticket via the ServiceNow portal link provided in your department&#x27;s &quot;Welcome Packet: Onboarding Guide.&quot;</p>
<p>To install <strong>PyCharm Community Edition</strong>, visit <a href="https://mytechnology.bankofoz.com/dwp/app/#/itemprofile/98765" target="_blank" rel="noopener noreferrer">myTechnology</a>.</p>
<p>When requesting PyCharm or any other tools mentioned in this document, select the most recent, free version.<br>
<!-- -->Refer to the <a href="#installing-python-and-git">next section</a>, which primarily focuses on adding a security key into BitBucket.</p>
<blockquote>
<p><strong>Important:</strong> You will not be able to pull repositories from the GCP Bitbucket project without proper security key setup.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-python-and-git">Installing Python and Git<a href="#installing-python-and-git" class="hash-link" aria-label="Direct link to Installing Python and Git" title="Direct link to Installing Python and Git">​</a></h3>
<p>To install <strong>Python</strong> (current recommended version is 3.9), go to <a href="https://www.python.org/downloads/release/python-3920/" target="_blank" rel="noopener noreferrer">Python x64 3.9.20</a> and click <strong>Request Now</strong>.<br>
<!-- -->If your department blocks this operation, submit a ticket via <a href="https://mytechnology.bankofoz.com/dwp/app/#/itemprofile/98701" target="_blank" rel="noopener noreferrer">myTechnology python-3920</a>.<br>
<!-- -->For <strong>EA Request ID</strong>, select <em>Not Required</em> from the pull-down menu.<br>
<!-- -->When done, click <strong>Submit request</strong>. You will be notified via email when it has been installed to your endpoint (laptop, device, or virtual machine).</p>
<p>To install <strong>Git</strong>, there are a few additional steps because Git must pass BitBucket security, requiring the <code>.gitconfig</code> file to be set up. Specifically, you need to:</p>
<ol>
<li><a href="#1-install-git-using-the-mytechnology-website">Install Git using the myTechnology website</a></li>
<li><a href="#2-set-up-basic-git-bash-properties">Set up basic Git Bash properties</a></li>
<li><a href="#3-set-up-bitbucket-sso">Set up BitBucket SSO</a></li>
</ol>
<p>Each will be explained below.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-git-using-the-mytechnology-website">1. Install Git Using the myTechnology Website<a href="#1-install-git-using-the-mytechnology-website" class="hash-link" aria-label="Direct link to 1. Install Git Using the myTechnology Website" title="Direct link to 1. Install Git Using the myTechnology Website">​</a></h4>
<ol>
<li>Go to the <a href="https://mytechnology.bankofoz.com/" target="_blank" rel="noopener noreferrer">myTechnology website</a> and search for <em>Git</em>.</li>
<li>Click the <strong>Request Now</strong> button next to the latest version (Example: <strong>Git 2.46.1</strong>).</li>
<li>Fill out the required request information and click <strong>Submit request</strong>.</li>
<li>Wait for an email informing you that Git has been successfully installed on your device.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-set-up-basic-git-bash-properties">2. Set up Basic Git Bash Properties<a href="#2-set-up-basic-git-bash-properties" class="hash-link" aria-label="Direct link to 2. Set up Basic Git Bash Properties" title="Direct link to 2. Set up Basic Git Bash Properties">​</a></h4>
<p>After you are notified that Git has been installed, follow these steps:</p>
<ol>
<li>
<p>Click <strong>Start</strong> and search for <strong>Git</strong>.</p>
</li>
<li>
<p>When the <strong>Git Bash</strong> icon appears, right-click and select <strong>Pin to Start</strong>.</p>
</li>
<li>
<p>Launch <strong>Git Bash</strong>.</p>
</li>
<li>
<p>To open your <code>.gitconfig</code> file for editing, run the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git config --global --edit</span><br></span></code></pre></div></div>
</li>
<li>
<p>In vscode or a text editor, e.g., vi, or Notepad++, update your e-mail and name. Make sure that this email address is the one being used by BitBucket, because this becomes important for the next section. <strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Doe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Jon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> jon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doe@bofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span></code></pre></div></div>
</li>
</ol>
<blockquote>
<p><strong>Tip:</strong> If a <code>.gitconfig</code> file does not exist, Git Bash will automatically create it when you run the edit command.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-bitbucket-sso">Set Up Bitbucket SSO<a href="#set-up-bitbucket-sso" class="hash-link" aria-label="Direct link to Set Up Bitbucket SSO" title="Direct link to Set Up Bitbucket SSO">​</a></h4>
<p>In this step, you will set up an <em>ed25519 key</em> and integrate it with your Bitbucket account. <strong>ED25519</strong> is equivalent to <strong>RSA-3072</strong> in that it provides 128-bit security, and it is commonly used in PGP and TLS. It is practical even for IoT solutions because it is fast and efficient on low-powered devices.</p>
<p>To set up Bitbucket:</p>
<ol>
<li>
<p>Check for an existing SSH key by entering the following command in your Git Bash root.</p>
<p><strong>The directory found when the Git Bash session is invoked:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># The public SSH key used by Bitbucket is found in id_ed25519.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># If you have this file, you have already completed this section on preparing Python and Git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls -al ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># If you receive the error: ‘ls: cannot access /c/.ssh: No such file or directory’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># You can resolve it by creating an .ssh directory in your home directory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># It should path to C:/Users/&lt;your Standard ID&gt;/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir ${HOME}/.ssh</span><br></span></code></pre></div></div>
<p><strong>Screenshot: Output result</strong></p>
<p><img decoding="async" loading="lazy" alt="The result of running ls -al ~/.ssh is displayed" src="/gcp_onboarding_docusaurus/assets/images/setup_ed25519_01-81dcdbe4a4d765d72cc56428d6282668.png" width="1172" height="362" class="img_ev3q"></p>
<blockquote>
<p><strong>Tip:</strong> If you already have <code>id_ed25519</code> and <code>id_ed25519.pub</code> but wish to generate a new key, delete these files and continue to the next step to create a new SSH key. If you believe Bitbucket is already set up and wish to test it, jump to <a href="#step-7">Step 7</a> of this section.</p>
</blockquote>
<p>If you cannot run the <code>ls</code> command, make sure it exists and is pathed correctly.<br>
<strong>Troubleshooting Examples:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Returns the ls.exe path (typically found in /usr/bin/ or /Program Files/git/usr/bin/):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">which ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Provides multiple locations, including binary, source, and manual pages:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">whereis ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># To test if it is in a valid path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $PATH</span><br></span></code></pre></div></div>
</li>
<li>
<p>Generate a new SSH key by creating <code>id_ed25519</code> and <code>id_ed25519.pub</code> with <code>git config</code>. In <strong>Git Bash</strong>, run the following commands, replacing the placeholder values with your actual name and email. <strong>Do not enter a passphrase.</strong></p>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git config </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">global</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token string" style="color:#e3116c">&quot;Last, First&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">global</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">email your_email@BofOz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Generate a new SSH key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">keygen </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">t ed25519 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">C your_email@BofOz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># When prompted to enter a file name for saving your new key, press &lt;Enter&gt; to accept the default location.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Do NOT enter a passphrase.</span><br></span></code></pre></div></div>
</li>
<li>
<p>Retrieve and verify your SSH key. To get the content of the <code>id_ed25519.pub</code> file, use the <code>cat</code> and <code>clip</code> commands in <strong>Git Bash</strong> (you will need this soon for Bitbucket).</p>
<p><strong>Examples:</strong></p>
<div class="language-bat codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bat codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Displays the SSH public key you will copy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.ssh/id_ed25519.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Copies your SSH key directly to the clipboard for Bitbucket setup:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip &lt; ~/.ssh/id_ed25519.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># SAMPLE OUTPUT that is getting copied — and will soon be pasted into Bitbucket:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ssh-ed25519 AAAAD5TazC1lZDI1NTRESANT5AAIHYB5noPbdR4VrRivFjfJ9LjubavRIJ3KAof jon.doe@BofOz.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MS-DOS CMD alternative (Windows Command Prompt):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd %userprofile%/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip &lt; id_ed25519.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MacOS Terminal (zsh) alternative:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pbcopy &lt; ~/.ssh/id_ed25519.pub</span><br></span></code></pre></div></div>
</li>
<li>
<p>Log into your Bitbucket account.<br>
<!-- -->After entering <a href="https://scm.horizon.bankofoz.com/projects" target="_blank" rel="noopener noreferrer">Bitbucket</a>, click on your <strong>Profile</strong> (top right) and select <strong>Manage account</strong>.</p>
<p><strong>Screenshot:</strong> Finding Bitbucket&#x27;s <strong>Manage Account</strong> settings<br>
<img decoding="async" loading="lazy" alt="Invoking Bitbucket&amp;#39;s Manage Account settings" src="/gcp_onboarding_docusaurus/assets/images/setup_bitbucket_ssh_02-dfd182b85f413ebf3062dcb4cda83eab.png" width="1373" height="349" class="img_ev3q"></p>
</li>
<li>
<p>Paste the contents of your <code>id_ed25519.pub</code> file into Bitbucket:</p>
<ul>
<li>Select <strong>SSH keys</strong> from the left menu.</li>
<li>Click <strong>Add key</strong>.</li>
<li>Paste your unique SSH key into the <strong>Key</strong> text field.</li>
<li>Optionally, enter a label in the <strong>Key label</strong> field for traceability.</li>
<li>Click <strong>Save</strong> to complete your Bitbucket setup.</li>
</ul>
</li>
<li>
<p>After saving, you can view your SSH key:</p>
<ul>
<li>Go to <strong>Profile &gt; Manage account &gt; SSH keys</strong>.</li>
</ul>
<p><strong>Screenshot:</strong> Viewing all Bitbucket keys<br>
<img decoding="async" loading="lazy" alt="Viewing all Bitbucket keys" src="/gcp_onboarding_docusaurus/assets/images/setup_bitbucket_ssh_03_view_keys-12f2ca49c6a8da5f5fc2a941aa586bc7.png" width="1358" height="444" class="img_ev3q"></p>
</li>
<li>
<p>Test your SSH connection to Bitbucket.</p>
<ul>
<li>Open <strong>Git Bash</strong> or your terminal.</li>
<li>Run the following command to verify that your SSH key is correctly configured:</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">T git@scm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bankofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><br></span></code></pre></div></div>
<ul>
<li>If the connection is successful, you will see a welcome message indicating successful authentication.</li>
<li>If you receive a permission error, review your SSH key setup before continuing.</li>
</ul>
<blockquote>
<p><strong>Tip:</strong> Testing your SSH connection early saves time troubleshooting later.</p>
</blockquote>
</li>
<li>
<p>Confirm that your key works by cloning a test repository.</p>
<ul>
<li>Click on <strong>Projects</strong> in the main Bitbucket ribbon.</li>
<li>In <strong>Search (Filter projects by name)</strong>, enter <em>GRA</em>.</li>
<li>In the filter results, click on <strong>GRA Core Platform</strong>.</li>
<li>In <strong>Search (Filter repositories by name)</strong>, enter <em>play</em>.</li>
<li>In the filter results, click on <strong>playground</strong>.</li>
<li>In Bitbucket’s left-panel ribbon, click <strong>Clone</strong> and copy the code.</li>
</ul>
<p><strong>Screenshot:</strong> The Bitbucket <strong>Clone</strong> Button<br>
<img decoding="async" loading="lazy" alt="Bitbucket Clone button gives you Code for Git Bash" src="/gcp_onboarding_docusaurus/assets/images/setup_bitbucket_ssh_04_confirm_clone-f02efd52f67a122c8767982b70868156.png" width="1015" height="364" class="img_ev3q"></p>
<ul>
<li>In the dialog box that appears, click the <strong>Click to copy</strong> button.</li>
<li>In <strong>Git Bash</strong>, <strong>PowerShell</strong>, or <strong>Command Prompt (cmd)</strong>, navigate to the directory where you want to clone the repository, then run the <code>git clone</code> command using the copied text.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone ssh</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">//</span><span class="token plain">git@scm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bankofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">playground</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># If the following results are returned, your Bitbucket setup is correct:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cloning into </span><span class="token string" style="color:#e3116c">&#x27;playground&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Enumerating objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> done</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Counting objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> done</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Compressing objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> done</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Total </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reused </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pack</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">reused </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Receiving objects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> done</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># When done, you can DELETE the playground folder you just cloned.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># You will not be using it right now.</span><br></span></code></pre></div></div>
</li>
<li>
<p>If you were not able to complete the above steps successfully, see <a href="#getting-the-right-permissions">Getting the Right Permissions</a> to resolve any authorization issues.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-right-permissions">Getting the Right Permissions<a href="#getting-the-right-permissions" class="hash-link" aria-label="Direct link to Getting the Right Permissions" title="Direct link to Getting the Right Permissions">​</a></h3>
<p>To access GCP repositories, GCP packages, and relevant databases, you will need permissions granted through ARM. This section briefly describes the processes for requesting permissions as a Model Developer, specifically related to GCP tools.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-a-development-environment-on-your-pc">Setting Up a Development Environment on Your PC<a href="#setting-up-a-development-environment-on-your-pc" class="hash-link" aria-label="Direct link to Setting Up a Development Environment on Your PC" title="Direct link to Setting Up a Development Environment on Your PC">​</a></h3>
<p>This section focuses on setting up Artifactory access and creating your virtual environment (venv).</p>
<p>Referencing an external packaging repository (such as pip’s default &#x27;simple&#x27; index at <a href="https://pypi.org/simple/" target="_blank" rel="noopener noreferrer">https://pypi.org/simple/</a>) is not permitted by most banking and financial institutions. Therefore, before you can establish a local Python learning environment or sandbox, your pip configuration must be registered with Artifactory to access an internal index.</p>
<p>Once you complete this setup, you can create your Python virtual environment (venv). You will then be able to activate your tools in this virtual environment and interact with GCP, as you <a href="#writing-gcp-workflows">write your own workflows</a>.</p>
<p>Steps covered in this section:</p>
<ol>
<li><a href="#1-log-in-to-ozs-artifactory">Log in to Oz&#x27;s Artifactory</a></li>
<li><a href="#2-choose-location-and-prepare-pipini-file">Choose Location and Prepare pip.ini File</a></li>
<li><a href="#3-generate-python-packager-key-update-pipini-and-activate-venv">Generate Python Packager Key, Update pip.ini, and Activate venv</a></li>
<li><a href="#4-troubleshooting-tips-for-this-section">Troubleshooting Tips for this Section</a></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-log-in-to-ozs-artifactory">1. Log in to Oz&#x27;s Artifactory<a href="#1-log-in-to-ozs-artifactory" class="hash-link" aria-label="Direct link to 1. Log in to Oz&#x27;s Artifactory" title="Direct link to 1. Log in to Oz&#x27;s Artifactory">​</a></h4>
<p>Bank of Oz uses a JFrog Artifactory instance to internally store and maintain resources needed by developers. To complete this section, log in to the <a href="https://artifacts.horizon.bankofoz.com" target="_blank" rel="noopener noreferrer">JFrog intranet site</a> using your <em>Standard ID credentials</em>.</p>
<blockquote>
<p><strong>Tip:</strong> If this is your first time using Artifactory as a Bank of Oz employee, you may be prompted to enter your password into the <strong>Current Password</strong> field and click <strong>Unlock</strong>.</p>
</blockquote>
<p>Keep this tab open in your browser, because you will return to it in Step 3.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-choose-location-and-prepare-pipini-file">2. Choose Location and Prepare pip.ini File<a href="#2-choose-location-and-prepare-pipini-file" class="hash-link" aria-label="Direct link to 2. Choose Location and Prepare pip.ini File" title="Direct link to 2. Choose Location and Prepare pip.ini File">​</a></h4>
<p>Determine where you would like to place the <code>pip.ini</code> file you will be building.</p>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># From Bash, the pip command displays all the locations it checks for an initialization file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip config </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">v </span><span class="token builtin">list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># -------------------------- Sample Output -------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For variant &#x27;global&#x27;, will try loading &#x27;C:\ProgramData\pip\pip.ini&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For variant &#x27;user&#x27;, will try loading &#x27;C:\Users\zkmtbsx\pip\pip.ini&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For variant &#x27;user&#x27;, will try loading &#x27;C:\Users\zkmtbsx\AppData\Roaming\pip\pip.ini&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For variant &#x27;site&#x27;, will try loading &#x27;C:\dev\gcp_py_samples\venv\pip.ini&#x27;</span><br></span></code></pre></div></div>
<p>In one of these folders, create a <code>pip.ini</code> file, e.g., <code>C:\ProgramData\pip\pip.ini</code>, and paste the following content into your new <code>.ini</code> text file:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[global]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cert = /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index-url = https://$USER:$API_KEY@artifacts.horizon.bankofoz.com/artifactory/api/pypi/virtual-pypi/simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">trusted-host = artifacts.horizon.bankofoz.com   pypi-python.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extra-index-url = http://$USER:$API_KEY@artifacts.horizon.bankofoz.com/artifactory/api/pypi/libs-snapshot-local-pypi/simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[search]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index = https://$USER:$API_KEY@artifacts.horizon.bankofoz.com  pypi.python.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[list]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">format = columns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[distutils]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index-servers = local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[local]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repository = https://$USER:$API_KEY@artifacts.horizon.bankofoz.com/artifactory/api/pypi/libs-snapshots-local-pypi</span><br></span></code></pre></div></div>
<p>Finally, replace each <code>$USER</code> with your <code>&lt;Standard ID&gt;</code> (e.g., <em>zyxwvut</em>) and save the <code>pip.ini</code> file.</p>
<blockquote>
<p><strong>Important:</strong> You must replace &quot;$USER&quot; in <strong>four places</strong>, and your <code>&lt;Standard ID&gt;</code> must be entered in <strong>lowercase</strong> form.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-generate-python-packager-key-update-pipini-and-activate-venv">3. Generate Python Packager Key, Update <code>pip.ini</code>, and Activate <code>venv</code><a href="#3-generate-python-packager-key-update-pipini-and-activate-venv" class="hash-link" aria-label="Direct link to 3-generate-python-packager-key-update-pipini-and-activate-venv" title="Direct link to 3-generate-python-packager-key-update-pipini-and-activate-venv">​</a></h4>
<p>When working with GCP for the first time, it is best to complete these twelve (12) steps in one sitting — from start to finish.</p>
<blockquote>
<p><strong>Tip:</strong> Once your GCP environment is prepared, you may need to refer back to these steps from time to time. Whenever you start a new GCP project, revisit Step 11 and review the project package’s README file.</p>
</blockquote>
<p>With your <code>pip.ini</code> still open:</p>
<ol>
<li>Return to your <strong>Artifactory tab</strong>.</li>
<li>Log in with your Standard ID credentials.</li>
<li>In the <strong>User Profile</strong> screen, enter your Standard ID password under <strong>To edit your user profile, please enter your password</strong>.</li>
<li>Click <strong>Unlock</strong>.</li>
<li>Click <strong>Generate an Identity Token</strong>.</li>
<li>In the <strong>Generate an Identity Token</strong> dialog box, provide a meaningful description in the <strong>Add Description</strong> field (e.g., a purpose and today’s date).</li>
<li>Click <strong>Next</strong>.</li>
<li>Copy your generated <strong>Reference Token</strong> by clicking on the <strong>Copy &#x27;Generated token&#x27; to clipboard</strong> button.</li>
<li>Return to your <code>pip.ini</code> file and replace each instance of <code>$API_KEY</code> with your unique token (four places).</li>
<li>Save and close your <code>pip.ini</code> file.</li>
<li>Run the following commands to create your virtual environment and test setup:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Bash commands to install Python packages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Assumes you have created the following location:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># /c/gcp_sandbox/modelproject01/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p venvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd venvs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd venv</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">Scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">upgrade pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m pip install scipy</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Tip:</strong> If the <code>source</code> and <code>python</code> commands run without error, your Artifactory setup was successful.</p>
</blockquote>
<p><strong>Additional Identity Token Characteristics</strong></p>
<ul>
<li>If you make a mistake, you cannot reuse the same token; however, you can generate a new token by repeating steps 5 through 8.</li>
<li>Tokens cannot be deleted, so it is important to name them in a meaningful way.</li>
<li>Tokens expire after one year.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-troubleshooting-tips-for-this-section">4. Troubleshooting Tips for this Section<a href="#4-troubleshooting-tips-for-this-section" class="hash-link" aria-label="Direct link to 4. Troubleshooting Tips for this Section" title="Direct link to 4. Troubleshooting Tips for this Section">​</a></h4>
<p>If you have run <code>source ./activate</code> and later closed your terminal session, your session has been deactivated. You will need to reactivate it before continuing.</p>
<p>Other common <code>pip.ini</code> issues:</p>
<ul>
<li>You accidentally copied incorrect information from Artifactory to <code>pip.ini</code>.</li>
<li>An incorrect <code>pip.ini</code> file is being used or the one you built is not in the correct path. Run the following to verify:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo $(realpath &quot;pip.ini&quot;)</span><br></span></code></pre></div></div>
<!-- -->Then review the <a href="#3-generate-python-packager-key-update-pipini-and-activate-venv">previous instructions</a>.</li>
<li>Your Standard ID was incorrectly entered into <code>pip.ini</code> (it must be in lowercase).</li>
<li>You forgot to replace all four instances of <code>$API_KEY</code> with your generated token.</li>
</ul>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="writing-gcp-workflows">Writing GCP Workflows<a href="#writing-gcp-workflows" class="hash-link" aria-label="Direct link to Writing GCP Workflows" title="Direct link to Writing GCP Workflows">​</a></h2>
<p>It is vital to understand that GCP is built for workflows designed to process large quantities of data. Be patient with the exercises that present the anatomy of a GCP workflow — they are intentionally designed to ensure that no node in a workflow is busy collecting data unnecessarily.</p>
<p>To illustrate this, consider that most real-world projects will typically fall into one of these GCP kernel data-processing scenarios:</p>
<ul>
<li>Node not executed previously, external data required, and node is available</li>
<li>Node not executed previously, external data required, but dataset not registered</li>
<li>Node has previously been executed</li>
</ul>
<p>For more about nodes, see the <a href="#node">Nodes section</a> in the API.</p>
<p>If you want to run GCP and create a basic workflow, you do not need to deep dive into nodes or syntax yet (this can come later). Follow the instructions below to get started. If you encounter an impossible impasse, you can email <a href="mailto:dg.gcp_support@BankofOz.com" target="_blank" rel="noopener noreferrer">GCP support</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-create-your-first-gcp-workflow">How to Create Your First GCP Workflow<a href="#how-to-create-your-first-gcp-workflow" class="hash-link" aria-label="Direct link to How to Create Your First GCP Workflow" title="Direct link to How to Create Your First GCP Workflow">​</a></h3>
<p>This section walks you through:</p>
<ul>
<li>Downloading a repository</li>
<li>Configuring your Python virtual environment with the correct tools and libraries</li>
<li>Executing a simple workflow to add two variables (a+b)</li>
<li>Exiting the virtual environment gracefully so that you do not accidentally leave it open when switching to a different project with unique requirements</li>
</ul>
<p>To run your first workflow successfully, complete the following high-level steps:</p>
<ol>
<li><a href="#1-prepare-gcp-and-install-test-environment">Prepare GCP and Install Test Environment</a></li>
<li><a href="#2-install-gcp-library-by-installing-the-gcp-pip-package">Install GCP library by installing the GCP pip package</a></li>
<li><a href="#3-write-workflow">Write workflow</a></li>
<li><a href="#4-test-workflow">Test workflow</a></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-prepare-gcp-and-install-test-environment">1. Prepare GCP and Install Test Environment<a href="#1-prepare-gcp-and-install-test-environment" class="hash-link" aria-label="Direct link to 1. Prepare GCP and Install Test Environment" title="Direct link to 1. Prepare GCP and Install Test Environment">​</a></h4>
<p>You should have already installed the recommended Python version that includes Spark integration. See <a href="#installing-python-and-git">Installing Python and Git</a> if needed.</p>
<p>Since you will be running GCP in a virtual environment (venv), you are not actually installing GCP. Instead, you will copy a folder from the GRA GCP repository that contains workflow examples. The final steps of this section will focus on setting up your <code>venv</code>.</p>
<blockquote>
<p><strong>Important:</strong> If you have not set up your SSH key to secure data traveling to and from Bitbucket repositories, complete <a href="#3-set-up-bitbucket-sso">Set up Bitbucket SSO</a> first.</p>
</blockquote>
<p>To prepare your GCP repository:</p>
<ol>
<li>Open <code>bash</code> or a similar Unix shell and create a folder for GCP.</li>
</ol>
<p>Example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/c/gcp_sandbox/modelproject01/</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Important:</strong> For faster performance, run your projects from the <code>C:</code> drive rather than the <code>H:</code> drive, especially when working in a virtual environment.</p>
</blockquote>
<ol start="2">
<li>Select your preferred repository with sample workflows in Bitbucket’s GCP project directory <a href="https://scm.intranet.bankofoz.com/projects/GCP" target="_blank" rel="noopener noreferrer">here</a>.</li>
</ol>
<blockquote>
<p><strong>Troubleshoot:</strong> If you cannot see the GCP repos, or if you receive an <em>HTTPS port 443 error</em>, you may lack Bitbucket access. See <a href="#getting-the-right-permissions">Getting the Right Permissions</a>.</p>
</blockquote>
<ol start="3">
<li>With the repository selected (<strong>gcp_py_samples</strong>), click the <strong>Clone</strong> button on the left panel and copy the clone command.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">//</span><span class="token plain">git@scm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bankofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">git</span><br></span></code></pre></div></div>
<p><strong>Screenshot:</strong> Clone <strong>gcp_py_samples</strong> for A+B Workflow<br>
<img decoding="async" loading="lazy" alt="Picking up code to clone gcp_py_samples repo" src="/gcp_onboarding_docusaurus/assets/images/setup_bitbucket_gcp_py_samples_05_clone-bec622f56bb43b35558e6a732b2ea49e.png" width="1019" height="584" class="img_ev3q"></p>
<ol start="4">
<li>Return to your shell (<code>bash</code>) and run the <code>git clone</code> command with the copied SSH string. Then enter that folder.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone ssh</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">//</span><span class="token plain">git@scm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bankofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">git</span><br></span></code></pre></div></div>
<ol start="5">
<li>Display the directory’s contents and confirm cloning. Then <code>cd</code> into the local copy of the repo.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Enter the directory and list contents</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd gcp_py_samples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls</span><br></span></code></pre></div></div>
<p>If needed, you can locate a cloned repo with:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">find </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token builtin">type</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">name gcp_py_samples </span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">print</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Tip:</strong> It is a good idea to complete this section before moving on. For each session, activate your virtual environment before using it, or create a launch batch file to automate this. If it is already activated and you activate it again, it will not drain additional resources.</p>
</blockquote>
<ol start="6">
<li>Now that you are in the cloned repository folder, instantiate your virtual environment (venv). This should take approximately 15 seconds.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create your venv</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># *Reminder:* </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The first &quot;venv&quot; is the Python module that creates virtual environments. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The second &quot;venv&quot; is the directory it creates to house your isolated environment.</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Tip:</strong> Naming your virtual environment <code>venv</code> simplifies detection by tools like PyCharm. However, you may name it something else if needed (e.g., <code>gcp_py_samples_venv</code>).</p>
</blockquote>
<ol start="7">
<li>Activate the newly created virtual environment.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For Linux or macOS syntax:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">Scripts</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For Windows CMD:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">venv\Scripts\activate</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Benefit:</strong> After activation, any <code>pip install</code> commands will install packages inside this virtual environment. This allows easy environment control without affecting system-wide Python installations.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-install-gcp-library-by-installing-the-gcp-pip-package">2. Install GCP Library by Installing the GCP pip Package<a href="#2-install-gcp-library-by-installing-the-gcp-pip-package" class="hash-link" aria-label="Direct link to 2. Install GCP Library by Installing the GCP pip Package" title="Direct link to 2. Install GCP Library by Installing the GCP pip Package">​</a></h4>
<ol>
<li>Install the preliminary GCP package and dependencies.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Install GCP dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">no</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">deps </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre></div></div>
<p>If the command does not work, explicitly call Artifactory:</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">no</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">deps </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">extra</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">index</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">url https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">//</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">StandardID</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">**</span><span class="token operator" style="color:#393A34">**</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">@artifacts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bankofoz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">artifactory</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">api</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">pypi</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">virtual</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pypi</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">simple</span><br></span></code></pre></div></div>
<ol start="2">
<li>Install the specific libraries for this repository.</li>
</ol>
<p>In this repository, you are installing:</p>
<ul>
<li><code>gcp</code>, <code>matplotlib</code>, and <code>radon</code> from the <code>requirements.txt</code> file</li>
<li><code>pytest</code> from the <code>build_requirements.txt</code> file</li>
</ul>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Install main libraries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">r requirements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install testing framework</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">r build_requirements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">txt</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Reference:</strong> For background on how <code>venv</code> environments are created and updated, see the official <a href="https://docs.python.org/3/tutorial/venv.html" target="_blank" rel="noopener noreferrer">Python venv tutorial</a>.</p>
</blockquote>
<ol start="3">
<li>If the above installations were successful, you are ready to proceed to the next section: <a href="#3-write-workflow">Write Workflow</a>.</li>
</ol>
<p>However, it is important to deactivate your virtual environment before switching to another project that uses a different repository.</p>
<p>You can deactivate your environment by running:</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Exit the current venv</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deactivate</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Troubleshooting:</strong> If you were unsuccessful in this section, confirm that your <code>pip.ini</code> (or <code>pip.cfg</code>) file is correct, and that your path points properly to <code>/c/gcp_sandbox/modelproject01/</code>.</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="know-when-to-deactivate-your-virtual-python-environment">Know When to Deactivate Your Virtual Python Environment<a href="#know-when-to-deactivate-your-virtual-python-environment" class="hash-link" aria-label="Direct link to Know When to Deactivate Your Virtual Python Environment" title="Direct link to Know When to Deactivate Your Virtual Python Environment">​</a></h5>
<ul>
<li>When you need to switch to another virtual environment (for a different project)</li>
<li>When you complete a project</li>
<li>Before running system-wide Python commands (e.g., installing a global package)</li>
<li>When opening a new shell session (because venvs do not persist across terminal sessions)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-write-workflow">3. Write Workflow<a href="#3-write-workflow" class="hash-link" aria-label="Direct link to 3. Write Workflow" title="Direct link to 3. Write Workflow">​</a></h4>
<p>Now it is time to write the first GCP workflow (<code>hello_world</code>), comprising two nodes:</p>
<ul>
<li><strong>name</strong>: This element is defined as an axis of type <code>Str</code>. Axis values (coordinates) can be specified by a user during execution (at runtime). They can also be set by other nodes (detailed in a forthcoming walkthrough <strong>TK</strong>).</li>
<li><strong>message</strong>: This element is defined as a function (Fn). GCP function nodes accept any Python function (e.g., <code>say_hello</code>) and a mapping of outputs of another node to this function’s inputs. In this graph, the <code>say_hello</code> function’s input parameter <code>user_name</code> is being set to the value of the <code>name</code> node.</li>
</ul>
<p>To prepare your first GCP Python script:</p>
<ol>
<li>
<p>Launch VS Code or any text editor that can be used for coding or scripting.</p>
</li>
<li>
<p>From the GCP module, <strong>import the required functions or classes</strong>:</p>
</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">task_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gcp_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflow_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fn</span><br></span></code></pre></div></div>
<ol start="3">
<li>Using f-string syntax, which concisely and efficiently manipulates strings in Python, create the greeting.<br>
<!-- -->It is important to use <code>@gcp_task</code>, a decorator, to define the greeting function:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token decorator annotation punctuation" style="color:#393A34">@gcp_task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">say_hello</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Hello </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Important:</strong> All functions called directly from a GCP workflow must use either the <code>@gcp_task</code> or <code>@gcp_spark</code> decorators. These decorators modify or extend the behavior of functions without changing their actual code.</p>
</blockquote>
<ol start="4">
<li>Construct your GCP workflow.<br>
<!-- -->A GCP workflow is a set of GCP nodes chained together:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">greeter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workflow_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Greeter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Workflow that creates a greeting&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    graph</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">say_hello</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;user_name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Python concept:</strong> A graph is a Python data structure that consists of nodes and edges. The edges connect nodes and can be either bidirectional or directed (where one node specifically depends on another).</p>
</blockquote>
<ol start="5">
<li>Save your file:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">hello_world_01</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<ol start="6">
<li>Copy your new file to the <code>src</code> folder:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp hello_world_01.py /c/gcp_sandbox/modelproject01/gcp_py_samples/src/gcp_py_samples/workflows</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong> It is best practice to copy the file instead of moving it. This way, your copy remains easily discoverable by any GCP program or script looking for your workflow.</p>
</blockquote>
<p>Now that your file <code>hello_world_01.py</code> is saved into both your <code>gcp_py_samples</code> and <code>src</code> folders, you are ready to test it for errors and run it in the next section.</p>
<p>A brief explanation of some key elements in your workflow will also be reviewed during testing, using <code>pytest.ini</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-test-workflow">4. Test Workflow<a href="#4-test-workflow" class="hash-link" aria-label="Direct link to 4. Test Workflow" title="Direct link to 4. Test Workflow">​</a></h4>
<p>You will run the <code>hello_world_01.py</code> workflow by sending it values and testing parameters using a file that you will edit called <code>test_hello_world_01.py</code>.</p>
<p>Normally, before releasing a GCP workflow, model developers test it with <code>pytest.ini</code>.<br>
<em>This not only runs your workflow, but also identifies dozens of potential problems with your code, data binding, or delays.</em></p>
<p><strong>Diagram:</strong><br>
<img decoding="async" loading="lazy" alt="Picking up code to clone gcp_py_samples repo" src="/gcp_onboarding_docusaurus/assets/images/plant_uml_exercise_hello_world_01-8367b65b793c5272a437afeecf1ae521.png" width="1700" height="952" class="img_ev3q"><br>
<strong>hello_world_01.py ladder diagram</strong> summarizes how the files work together when you execute <code>pytest.ini</code> at runtime.</p>
<p>To proceed:</p>
<ol>
<li>
<p>In the <em>tests/integration</em> folder, make a copy of <code>test_demo.py</code> and rename it to <code>test_hello_world_01.py</code>.</p>
</li>
<li>
<p>Open <code>test_hello_world_01.py</code> in VS Code or a text editor.</p>
</li>
<li>
<p>Specify the correct file and workflow name (<code>greeter</code>) by editing <strong>line 2</strong>:</p>
</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Change:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># from gcp_py_samples.workflows.demo import demo_wf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hello_world_01 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> greeter</span><br></span></code></pre></div></div>
<ol start="4">
<li>Update the node name and coordinates by editing <strong>lines 6 and 7</strong>:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Change:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># node = &#x27;FN2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># coords = (&#x27;AX1&#x27;, 100)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">coords </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;John Doe&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="5">
<li>Update the <code>ExecRequests</code> constructor with the correct <code>workflow_fqn</code> and <code>version</code> by editing <strong>lines 10 and 11</strong>:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Change:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># workflow_fqn=demo_wf.fqn,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># version=demo_wf.version,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">workflow_fqn</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">greeter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fqn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">greeter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre></div></div>
<ol start="6">
<li>Specify the function that your test will be evaluating by updating the <code>assert</code> statement:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Change:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># assert results.get(&#x27;FN2&#x27;) == &#x27;200 Hello&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;200 Hello&#x27;</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<code>assert</code> is how tests pass or fail in <code>pytest</code>:</p>
<ul>
<li>If the assertion fails, <code>pytest</code> marks the test as failed and shows a diff between expected and actual values.</li>
<li>If the assertion passes, the test continues or ends successfully (see Step 9 for more).</li>
</ul>
</blockquote>
<ol start="7">
<li>After completing the edits, save the document to the <em>integration</em> folder:</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tests</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">integration</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">test_hello_world_01</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<ol start="8">
<li>Run the file you just saved and review the response to familiarize yourself with the feedback provided by the tests.</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">\dev\gcp_py_samples\tests\integration</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pytest test_hello_world_01</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<ol start="9">
<li>To complete this exercise, change your <code>assert</code> argument to match the correct expected value and rerun <code>pytest</code>.</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Change:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># assert results.get(&#x27;message&#x27;) == &#x27;200 Hello&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Update to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello John Doe&#x27;</span><br></span></code></pre></div></div>
<p>In the next section, you will run a similar workflow called <code>hello_world_02.py</code>. These instructions will be more concise and will introduce new nodes to add two numbers.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-gcp-workflow">Understanding the GCP Workflow<a href="#understanding-the-gcp-workflow" class="hash-link" aria-label="Direct link to Understanding the GCP Workflow" title="Direct link to Understanding the GCP Workflow">​</a></h2>
<p>In this section you will:</p>
<ul>
<li><a href="#1-how-to-create-a-workflow-adding-two-numbers">Create a workflow that adds two numbers</a></li>
<li><a href="#key-workflow-configuration-parameters">Review key workflow configuration parameters</a></li>
<li><a href="#2-experiment-with-assert-for-better-test-scripting">Test several cases with a single test script</a></li>
<li><a href="#3-concise-summary-first-two-workflows">Concisely summarize the first two workflows</a></li>
<li><a href="#4-learn-how-to-utilize-gcp-tasks">Learn how to utilize GCP tasks to re-use and repurpose functions</a></li>
<li><a href="#5-summary-workflows-and-tasks">Summarize how workflows and tasks work together</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-how-to-create-a-workflow-adding-two-numbers">1. How to Create a Workflow Adding Two Numbers<a href="#1-how-to-create-a-workflow-adding-two-numbers" class="hash-link" aria-label="Direct link to 1. How to Create a Workflow Adding Two Numbers" title="Direct link to 1. How to Create a Workflow Adding Two Numbers">​</a></h3>
<p>In this section, your objective is to create a GCP workflow that takes two input values (<code>x</code> and <code>y</code>) and returns their sum.</p>
<p><strong>Diagram:</strong><br>
<img decoding="async" loading="lazy" alt="Picking up code to clone gcp_py_samples repo" src="/gcp_onboarding_docusaurus/assets/images/plant_uml_exercise_hello_world_02-72c01f7bbed9c7d73c26a3f6de20605c.png" width="1794" height="1156" class="img_ev3q"></p>
<p>The <strong>hello_world_02.py Workflow Summary</strong> ladder diagram above reviews how the files work together when you execute <code>pytest.ini</code> at runtime.<br>
<!-- -->Refer back to this diagram after creating a similar file, <strong>hello_world_03.py</strong>, which introduces the GCP <code>@gcp_task</code> decorator and the <em>tasks</em> folder.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-workflow-configuration-parameters">Key Workflow Configuration Parameters<a href="#key-workflow-configuration-parameters" class="hash-link" aria-label="Direct link to Key Workflow Configuration Parameters" title="Direct link to Key Workflow Configuration Parameters">​</a></h4>
<p>Below is a list of the main parameters used in this exercise, which you will frequently use when designing your own workflows:</p>
<ul>
<li><code>Axis</code>: Represents an input node.</li>
<li><code>Fn</code>: Represents a computation node that runs a Python function.<!-- -->
<ul>
<li><code>function_path=add_two_numbers</code>: Directly references the local Python function.</li>
</ul>
</li>
<li><code>inputs={&#x27;x&#x27;: &#x27;input1&#x27;, &#x27;y&#x27;: &#x27;input2&#x27;}</code>: Binds input values to function arguments.</li>
<li><code>output</code>: Holds the result of <code>add_two_numbers(x, y)</code>.</li>
</ul>
<p>Steps:</p>
<ol>
<li>Open <code>hello_world_01.py</code>, remove all code, add a comment summarizing the new function, and save the file as <code>hello_world_02.py</code>.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># GCP Workflow with function to add_two_numbers</span><br></span></code></pre></div></div>
<ol start="2">
<li>Import the core GCP classes and utilities needed to define the workflow.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">task_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gcp_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflow_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> WorkflowConf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ExecutionPlatform</span><br></span></code></pre></div></div>
<ol start="3">
<li>Define a local function that adds two numbers.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This is the actual Python logic in your GCP workflow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add_two_numbers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Hint:</strong> You can later move this functionality into a separate task file. We will cover this in the next section: <a href="#4-learn-how-to-utilize-gcp-tasks">Learn How to Utilize GCP Tasks</a>.</p>
</blockquote>
<ol start="4">
<li>Construct the <code>hello_world_02</code> workflow using the <code>Workflow</code> class.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hello_world </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workflow_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Hello World 02&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;A workflow that sums its inputs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    configurations</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">WorkflowConf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">platform</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ExecutionPlatform</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PURE_PYTHON</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_deployable</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    graph</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;input1&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;input2&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_type</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">function_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">add_two_numbers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> inputs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;x&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;input1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;y&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;input2&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol start="5">
<li>Save the file.<br>
<!-- -->Then copy it into the <code>/src/workflows/</code> directory.</li>
</ol>
<p>Example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp hello_world_02.py /c/gcp_sandbox/modelproject01/gcp_py_samples/src/gcp_py_samples/workflows/hello_world_02.py</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Tip:</strong> If you do not save the file into the <em>workflows</em> directory, you will not be able to import it correctly in your tests.</p>
</blockquote>
<ol start="6">
<li>Prepare a new test file by copying and updating <code>test_hello_world_01.py</code>, and saving it as <code>test_hello_world_02.py</code>.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># test_hello_world_02 function to add_two_numbers, x=3, y=7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Save to:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># /c/gcp_sandbox/modelproject01/gcp_py_samples/tests/integration/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execution </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ExecRequests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hello_world_02 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_addition_workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">python_executor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coords </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;input1&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;input2&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exec_request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ExecRequests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workflow_fqn</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fqn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        version</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodes_and_coords</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coords</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> python_executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute_requests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exec_request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre></div></div>
<ol start="7">
<li>Run the file you just saved and review the response.</li>
</ol>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tests</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">integration</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pytest test_hello_world_02</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-experiment-with-assert-for-better-test-scripting">2. Experiment with <code>assert</code> for Better Test Scripting<a href="#2-experiment-with-assert-for-better-test-scripting" class="hash-link" aria-label="Direct link to 2-experiment-with-assert-for-better-test-scripting" title="Direct link to 2-experiment-with-assert-for-better-test-scripting">​</a></h3>
<p>Testing, as you may have noticed from the output reports, is multi-layered and comprehensive.<br>
<!-- -->You can take advantage of this by modifying test scripts to create multiple test cases that run each time you call a test file. Simply use a parameterized approach.</p>
<blockquote>
<p><strong>In a Nutshell:</strong> Copy everything after the import statements, paste it at the bottom of the file, give the function a unique name, and modify your values.<br>
<!-- -->The example below shows how you can easily run two tests from a single file.</p>
</blockquote>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># File: ../gcp_py_samples/tests/integration/test_hello_world_02_two_asserts.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execution </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ExecRequests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hello_world_02 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_addition_workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">python_executor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coords </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;input1&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;input2&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exec_request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ExecRequests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workflow_fqn</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fqn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        version</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodes_and_coords</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coords</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> python_executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute_requests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exec_request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_addition_workflow02</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">python_executor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coords </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;input1&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;input2&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exec_request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ExecRequests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workflow_fqn</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fqn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        version</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hello_world</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nodes_and_coords</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> coords</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> python_executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute_requests</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exec_request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;output&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-concise-summary-of-first-two-workflows">3. Concise Summary of First Two Workflows<a href="#3-concise-summary-of-first-two-workflows" class="hash-link" aria-label="Direct link to 3. Concise Summary of First Two Workflows" title="Direct link to 3. Concise Summary of First Two Workflows">​</a></h3>
<p>This section provides a quick summary of the GCP elements involved in <code>say_hello()</code> and <code>add_two_numbers(x, y)</code>.<br>
<!-- -->Since each exercise included some setup tasks that you only need to do once, this serves as a starting point for quick reviews — focusing purely on GCP elements and key Python concepts such as decorators.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="in-say_hello-you-ran-a-basic-workflow-with-two-files">In <code>say_hello()</code>, you ran a basic workflow with two files:<a href="#in-say_hello-you-ran-a-basic-workflow-with-two-files" class="hash-link" aria-label="Direct link to in-say_hello-you-ran-a-basic-workflow-with-two-files" title="Direct link to in-say_hello-you-ran-a-basic-workflow-with-two-files">​</a></h4>
<ul>
<li><code>hello_world_01.py</code> defined a function (<code>say_hello(name)</code>)</li>
<li><code>test_hello_world_01.py</code> tested this function</li>
</ul>
<p>The test simulated a greeting output and validated the result:</p>
<ul>
<li>☑ If the result matches expectations → the test passes</li>
<li>✗ If it does not match → the test fails</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="in-add_two_numbersx-y-you-built-a-gcp-workflow-that-adds-two-numbers">In <code>add_two_numbers(x, y)</code>, you built a GCP workflow that adds two numbers:<a href="#in-add_two_numbersx-y-you-built-a-gcp-workflow-that-adds-two-numbers" class="hash-link" aria-label="Direct link to in-add_two_numbersx-y-you-built-a-gcp-workflow-that-adds-two-numbers" title="Direct link to in-add_two_numbersx-y-you-built-a-gcp-workflow-that-adds-two-numbers">​</a></h4>
<ul>
<li>
<p><code>hello_world_02.py</code> defined the workflow inline, using:</p>
<ul>
<li><code>Axis</code> for input nodes</li>
<li><code>Fn</code> for the function node</li>
<li>The <code>add_two_numbers(x: int, y: int)</code> function, written directly in the file</li>
</ul>
</li>
<li>
<p><code>test_hello_world_02.py</code> submitted an execution request with inputs and asserted the result</p>
</li>
</ul>
<p>In the test output (echo):</p>
<ul>
<li>☑ If the sum matches → the test passes</li>
<li>✗ If the result is incorrect or the type hint is missing → the test fails</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-learn-how-to-utilize-gcp-tasks">4. Learn How to Utilize GCP Tasks<a href="#4-learn-how-to-utilize-gcp-tasks" class="hash-link" aria-label="Direct link to 4. Learn How to Utilize GCP Tasks" title="Direct link to 4. Learn How to Utilize GCP Tasks">​</a></h3>
<p>The objective of this section is to offload core business logic to a third file, stored in the<br>
<code>../gcp_py_samples/src/gcp_py_samples/tasks/</code> folder.<br>
<!-- -->You will then access the function from workflows using the <code>@gcp_task</code> decorator.</p>
<ol>
<li>Copy <code>hello_world_02.py</code> to a new file</li>
</ol>
<p>Create a copy of the script that added two numbers into the <code>workflows</code> folder.</p>
<p>Example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp hello_world_02.py /c/gcp_sandbox/modelproject01/gcp_py_samples/src/gcp_py_samples/workflows/hello_world_03.py</span><br></span></code></pre></div></div>
<ol start="2">
<li>Remove the function that will be placed into a new file</li>
</ol>
<p>Delete or comment out the function, as well as the import code that is no longer needed.<br>
<!-- -->In the next step, this logic will be moved to a separate Python file.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># GCP Workflow with function to add_two_numbers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Commented out import (1 line):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># from gcp_kernel.api.task_definition import gcp_task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflow_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> WorkflowConf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ExecutionPlatform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Commented out core logic (3 lines):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># @gcp_task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># def add_two_numbers(x: int, y: int) -&gt; int:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     return x + y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello_world </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Workflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol start="3">
<li>Create the task file</li>
</ol>
<p>Move the removed function into a new file called <code>add_two_numbers_03.py</code>, and save it in the <code>tasks</code> folder:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">src</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tasks</span><span class="token operator" style="color:#393A34">/</span><br></span></code></pre></div></div>
<p>Contents of the new task file:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">task_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gcp_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@gcp_task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add_two_numbers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Task that returns a sum of its inputs&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span></code></pre></div></div>
<ol start="4">
<li>Import the task into your workflow</li>
</ol>
<p>In the import section of <code>hello_world_03.py</code>, add your new task import.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Necessary import when moving the function to the tasks folder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_py_samples</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tasks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_two_numbers_03 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> add_two_numbers</span><br></span></code></pre></div></div>
<p>You can now access your stand-alone task from any workflow.</p>
<ol start="5">
<li>Create a new test file (optional)</li>
</ol>
<p>Although you could reuse <code>test_hello_world_02.py</code>, it is good practice to create a discrete test file.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp test_hello_world_02</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_sandbox</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">modelproject01</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">src</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gcp_py_samples</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tests</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">test_hello_world_03</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<ol start="6">
<li>Run the test</li>
</ol>
<p>Modify the new or existing test script as needed and run it.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pytest test_hello_world_03</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-summary-workflows-and-tasks">5. Summary: Workflows and Tasks<a href="#5-summary-workflows-and-tasks" class="hash-link" aria-label="Direct link to 5. Summary: Workflows and Tasks" title="Direct link to 5. Summary: Workflows and Tasks">​</a></h3>
<p>In the previous section, your objective was to separate a GCP workflow from the task of adding two input values (<code>x</code> and <code>y</code>).<br>
<!-- -->Three <code>.py</code> files are involved, summarized in the ladder diagram below:</p>
<p><strong>Diagram:</strong><br>
<img decoding="async" loading="lazy" alt="link" src="/gcp_onboarding_docusaurus/assets/images/plant_uml_exercise_hello_world_03-f7bc16fd33acf53d50e332656944ceae.png" width="2096" height="1010" class="img_ev3q"></p>
<p><strong>The hello_world_03.py Workflow Summary diagram</strong> reviews how <code>pytest.ini</code> and the three files work together when you execute the test at runtime.<br>
<!-- -->The GCP decorator <code>@gcp_task</code> is the most important element in this structure.<br>
<!-- -->Remember also to save your task in the correct <em>tasks</em> folder.</p>
<p>Now that you have completed an overview of workflows and tasks, explore and browse the sample files available in these directories to experiment further:</p>
<ul>
<li><code>C:/dev/gcp_py_samples/src/gcp_py_samples/workflows/</code></li>
<li><code>C:/dev/gcp_py_samples/src/gcp_py_samples/tasks/</code></li>
</ul>
<br>
<h1>GCP Workflow Components</h1>
<p>This section details the main workflow components, configuration parameters, and principles.<br>
<!-- -->It defines how workflows are constructed, how nodes operate, and provides examples for each node type.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow">Workflow<a href="#workflow" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h2>
<p>A <code>Workflow</code> orchestrates a series of interconnected nodes — inputs, computations, and functions — into a graph structure.<br>
<!-- -->It defines the sequence and relationships between tasks that run within GCP.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Created in Python using:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gcp_kernel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">workflow_definition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Workflow</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Additional Information:</strong><br>
<!-- -->A GCP <code>Workflow</code> is conceptually similar to a DAG (Directed Acyclic Graph) in frameworks such as Airflow, Prefect, or Luigi.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="node">Node<a href="#node" class="hash-link" aria-label="Direct link to Node" title="Direct link to Node">​</a></h2>
<p>A <code>node</code> represents an individual component inside a workflow.<br>
<!-- -->Each node can be a data input, a computation, a constant, a function call, or other operation.</p>
<p>Current GCP node types:</p>
<ul>
<li><a href="#axis">Axis</a></li>
<li><a href="#const">Const</a></li>
<li><a href="#fn">Fn</a></li>
<li><a href="#switch">Switch</a></li>
<li><a href="#ref">Ref</a></li>
<li><a href="#userinput">UserInput</a></li>
<li><a href="#sql">SQL</a></li>
<li><a href="#extsql">ExtSQL</a></li>
<li><a href="#aggzip">AggZip</a></li>
</ul>
<p>Each type is described below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="axis">Axis<a href="#axis" class="hash-link" aria-label="Direct link to Axis" title="Direct link to Axis">​</a></h3>
<p>An <code>Axis</code> represents a tunable or input value passed at runtime.<br>
<!-- -->It accepts values either from the user or from other nodes.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Axis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<code>Axis</code> behaves like a function parameter or loop variable in Python.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="const">Const<a href="#const" class="hash-link" aria-label="Direct link to Const" title="Direct link to Const">​</a></h3>
<p>A <code>Const</code> node holds a static value defined directly in the graph.<br>
<!-- -->It is used for constants that do not require dynamic input.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;const&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Const</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->Python does not enforce constant variables; values are reassigned freely.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fn">Fn<a href="#fn" class="hash-link" aria-label="Direct link to Fn" title="Direct link to Fn">​</a></h3>
<p>An <code>Fn</code> node executes a Python function decorated with <code>@gcp_task</code> or <code>@gcp_spark_task</code>.<br>
<!-- -->It maps inputs from other nodes to the function’s parameters.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">say_hello</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;user_name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<code>Fn</code> is equivalent to decorated function calls in Python frameworks.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switch">Switch<a href="#switch" class="hash-link" aria-label="Direct link to Switch" title="Direct link to Switch">​</a></h3>
<p>A <code>Switch</code> node implements conditional branching, similar to Python’s <code>if-elif-else</code> or <code>match-case</code> logic.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;result&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Switch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;frac#denominator&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;frac#numerator&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;frac#numerator&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ref">Ref<a href="#ref" class="hash-link" aria-label="Direct link to Ref" title="Direct link to Ref">​</a></h3>
<p>A <code>Ref</code> node references another node’s output or a workflow’s result.<br>
<!-- -->It allows reuse of values computed elsewhere.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;prediction&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;gcp_py_samples.workflows.demo2b.calbr_wf/model_output&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;portfolio_name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;portfolio_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;as_of&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;as_of&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->In Python, references are usually implicit through variable assignment.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userinput">UserInput<a href="#userinput" class="hash-link" aria-label="Direct link to UserInput" title="Direct link to UserInput">​</a></h3>
<p>A <code>UserInput</code> node explicitly requires manual input at runtime before dependent nodes can execute.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python_executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_user_input_value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->This is conceptually similar to using <code>input()</code> in Python.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Direct link to SQL" title="Direct link to SQL">​</a></h3>
<p>An <code>SQL</code> node executes a database query inside the GCP environment against a predefined source.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sql_user</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PORTFOLIO_SDF</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->In Python, similar operations are performed with libraries like <code>sqlite3</code>, <code>pandas.read_sql</code>, or SQLAlchemy.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extsql">ExtSQL<a href="#extsql" class="hash-link" aria-label="Direct link to ExtSQL" title="Direct link to ExtSQL">​</a></h3>
<p>An <code>ExtSQL</code> node executes queries against external (non-Spark, non-Hive) databases.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;sql_result&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ExtSQL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sql</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sql_string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sources</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CLIMATE&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;WHOLESALE&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">PORTFOLIO_SDF</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    query_parameters</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;run_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;run_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->Python equivalents include external connectors such as <code>psycopg2</code> or <code>pyodbc</code>.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggzip">AggZip<a href="#aggzip" class="hash-link" aria-label="Direct link to AggZip" title="Direct link to AggZip">​</a></h3>
<p><code>Agg</code> nodes perform aggregation over multiple node outputs.<br>
<code>Zip</code> nodes combine coordinate values element-wise across nodes.</p>
<p>Aggregation Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;ag&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Agg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fn&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;const&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Zip Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;zip_nd&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">invoked_node</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;fn_nd2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sourced_axis_entries</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;axis_int&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cnst_nd2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;axis_str&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cnst_nd&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<blockquote>
<p><strong>Note:</strong><br>
<!-- -->Python uses functions like <code>zip()</code>, <code>sum()</code>, and <code>reduce()</code> for similar purposes.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-gcp-nodes-compared-to-python">Summary: GCP Nodes Compared to Python<a href="#summary-gcp-nodes-compared-to-python" class="hash-link" aria-label="Direct link to Summary: GCP Nodes Compared to Python" title="Direct link to Summary: GCP Nodes Compared to Python">​</a></h2>
<table><thead><tr><th>GCP Concept</th><th>Used in GCP</th><th>Native in Python</th><th>Equivalent Concept in Python</th></tr></thead><tbody><tr><td><a href="#workflow">Workflow</a></td><td>☑︎</td><td>✗</td><td>DAGs, pipelines (Airflow, Prefect)</td></tr><tr><td><a href="#node">Node</a></td><td>☑︎</td><td>☑︎</td><td>Functions, variables</td></tr><tr><td><a href="#axis">Axis</a></td><td>☑︎</td><td>☑︎</td><td>Function parameters, input variables</td></tr><tr><td><a href="#const">Const</a></td><td>☑︎</td><td>✗</td><td>Regular variables</td></tr><tr><td><a href="#fn">Fn</a></td><td>☑︎</td><td>☑︎ (decorators)</td><td>Decorated functions</td></tr><tr><td><a href="#switch">Switch</a></td><td>☑︎</td><td>☑︎</td><td>if-elif-else, match-case</td></tr><tr><td><a href="#ref">Ref</a></td><td>☑︎</td><td>☑︎ (implicit)</td><td>Passing variables between functions</td></tr><tr><td><a href="#userinput">UserInput</a></td><td>☑︎</td><td>☑︎ (different)</td><td>input() calls</td></tr><tr><td><a href="#sql">SQL</a></td><td>☑︎</td><td>☑︎ (via libraries)</td><td>Raw SQL queries (sqlite3, pandas)</td></tr><tr><td><a href="#extsql">ExtSQL</a></td><td>☑︎</td><td>☑︎ (via connectors)</td><td>External DB connectors (psycopg2, pyodbc)</td></tr><tr><td><a href="#aggzip">AggZip</a></td><td>☑︎</td><td>☑︎ (Zip only)</td><td>zip(), sum(), reduce(), Pandas groupby().agg()</td></tr></tbody></table>
<br>
<h1>Running in a Lane</h1>
<ul>
<li>Overview of GCP SDLC process</li>
<li>How to push workflows to a lane and execute from the UI</li>
<li>Recommended starting point:<br>
<a href="https://horizon.bankofoz.com/docs/display/GCP/Set-Up+SSH+Keys+for+new+GCP+Servers" target="_blank" rel="noopener noreferrer">Set Up SSH Keys for New GCP Servers</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-tasks">System Tasks<a href="#system-tasks" class="hash-link" aria-label="Direct link to System Tasks" title="Direct link to System Tasks">​</a></h3>
<ul>
<li>Documentation for system tasks</li>
<li>Writing unit tests and using the GCP internal test harness</li>
</ul>
<blockquote>
<p><strong>Note:</strong><br>
<code>&quot;==&quot;</code> in comments is intentional — it is used for extended command testing across interpreters.</p>
</blockquote>
<br>
<h1>Other GCP Concepts</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gcp-retrieves-and-persists-data-automatically">GCP Retrieves and Persists Data Automatically<a href="#gcp-retrieves-and-persists-data-automatically" class="hash-link" aria-label="Direct link to GCP Retrieves and Persists Data Automatically" title="Direct link to GCP Retrieves and Persists Data Automatically">​</a></h3>
<ul>
<li>All data is indexed by axes.</li>
<li>Axes are attached to outputs and stored persistently.</li>
<li>(Additional details forthcoming.)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h3>
<ul>
<li>Configure result persistence early in development.</li>
<li>Design modular workflows to support &quot;what-if&quot; analysis scenarios.</li>
<li>(Additional best practices forthcoming.)</li>
</ul>
<br>
<h1>Document Approval and Acceptance History</h1>
<table><thead><tr><th>Doc Version</th><th>Go Live Date</th><th>Approved by</th><th>Notes and Comments</th></tr></thead><tbody><tr><td>v.0.0.1</td><td>2025-03-01</td><td>Adil Imam</td><td>Initial draft, will later split into subdocuments</td></tr><tr><td>v.1.0.0</td><td>2025-04-14</td><td>Adil Imam</td><td>Major revisions by Adriano Sverko, milestone release</td></tr><tr><td>v.1.1.0</td><td><em>tk</em></td><td><em>tk</em></td><td><em>tk</em></td></tr><tr><td>v.2.0.0</td><td><em>tk</em></td><td><em>tk</em></td><td><em>tk</em></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/onboarding_new_gcp_users.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#id-gcp-onboardingtitle-gcp-onboardingsidebar_label-gcp-onboardingsidebar_position-1" class="table-of-contents__link toc-highlight">id: gcp-onboarding
title: GCP Onboarding
sidebar_label: GCP Onboarding
sidebar_position: 1</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#setting-up" class="table-of-contents__link toc-highlight">Setting Up</a><ul><li><a href="#getting-the-right-software" class="table-of-contents__link toc-highlight">Getting the Right Software</a></li><li><a href="#installing-python-and-git" class="table-of-contents__link toc-highlight">Installing Python and Git</a></li><li><a href="#getting-the-right-permissions" class="table-of-contents__link toc-highlight">Getting the Right Permissions</a></li><li><a href="#setting-up-a-development-environment-on-your-pc" class="table-of-contents__link toc-highlight">Setting Up a Development Environment on Your PC</a></li></ul></li><li><a href="#writing-gcp-workflows" class="table-of-contents__link toc-highlight">Writing GCP Workflows</a><ul><li><a href="#how-to-create-your-first-gcp-workflow" class="table-of-contents__link toc-highlight">How to Create Your First GCP Workflow</a></li></ul></li><li><a href="#understanding-the-gcp-workflow" class="table-of-contents__link toc-highlight">Understanding the GCP Workflow</a><ul><li><a href="#1-how-to-create-a-workflow-adding-two-numbers" class="table-of-contents__link toc-highlight">1. How to Create a Workflow Adding Two Numbers</a></li><li><a href="#2-experiment-with-assert-for-better-test-scripting" class="table-of-contents__link toc-highlight">2. Experiment with <code>assert</code> for Better Test Scripting</a></li><li><a href="#3-concise-summary-of-first-two-workflows" class="table-of-contents__link toc-highlight">3. Concise Summary of First Two Workflows</a></li><li><a href="#4-learn-how-to-utilize-gcp-tasks" class="table-of-contents__link toc-highlight">4. Learn How to Utilize GCP Tasks</a></li><li><a href="#5-summary-workflows-and-tasks" class="table-of-contents__link toc-highlight">5. Summary: Workflows and Tasks</a></li></ul></li><li><a href="#workflow" class="table-of-contents__link toc-highlight">Workflow</a></li><li><a href="#node" class="table-of-contents__link toc-highlight">Node</a><ul><li><a href="#axis" class="table-of-contents__link toc-highlight">Axis</a></li><li><a href="#const" class="table-of-contents__link toc-highlight">Const</a></li><li><a href="#fn" class="table-of-contents__link toc-highlight">Fn</a></li><li><a href="#switch" class="table-of-contents__link toc-highlight">Switch</a></li><li><a href="#ref" class="table-of-contents__link toc-highlight">Ref</a></li><li><a href="#userinput" class="table-of-contents__link toc-highlight">UserInput</a></li><li><a href="#sql" class="table-of-contents__link toc-highlight">SQL</a></li><li><a href="#extsql" class="table-of-contents__link toc-highlight">ExtSQL</a></li><li><a href="#aggzip" class="table-of-contents__link toc-highlight">AggZip</a></li></ul></li><li><a href="#summary-gcp-nodes-compared-to-python" class="table-of-contents__link toc-highlight">Summary: GCP Nodes Compared to Python</a><ul><li><a href="#system-tasks" class="table-of-contents__link toc-highlight">System Tasks</a></li><li><a href="#gcp-retrieves-and-persists-data-automatically" class="table-of-contents__link toc-highlight">GCP Retrieves and Persists Data Automatically</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>